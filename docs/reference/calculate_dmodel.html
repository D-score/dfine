<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0"><title>Calculate the D-score model object given a fitted Rasch model — calculate_dmodel • dfine</title><!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.7.1/jquery.min.js" integrity="sha512-v2CJ7UaYy4JwqLDIrZUI/4hqeoQieOmAZNXBeQyjo21dadnwR+8ZaIJVT8EE2iyI61OV8e6M8PP2/4hpQINQ/g==" crossorigin="anonymous" referrerpolicy="no-referrer"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous"><script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css"><script src="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous"><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet"><script src="../pkgdown.js"></script><meta property="og:title" content="Calculate the D-score model object given a fitted Rasch model — calculate_dmodel"><meta property="og:description" content="This function calculates ability estimates and diagnostics from
a fitted Rasch model. It prepares the item bank, calculates
the corresponding D-score and DAZ, and computes fit statistics
for items and persons. It also handles equating and anchoring for
the D-score transformation. Results can be returned in either the logit
or in the D-score metric."><!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--></head><body data-spy="scroll" data-target="#toc">


    <div class="container template-reference-topic">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">dfine</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="">0.4.0</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav"><li>
  <a href="../reference/index.html">Reference</a>
</li>
<li>
  <a href="../news/index.html">Changelog</a>
</li>
      </ul><ul class="nav navbar-nav navbar-right"></ul></div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->



      </header><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Calculate the D-score model object given a fitted Rasch model</h1>

    <div class="hidden name"><code>calculate_dmodel.Rd</code></div>
    </div>

    <div class="ref-description">
    <p>This function calculates ability estimates and diagnostics from
a fitted Rasch model. It prepares the item bank, calculates
the corresponding D-score and DAZ, and computes fit statistics
for items and persons. It also handles equating and anchoring for
the D-score transformation. Results can be returned in either the logit
or in the D-score metric.</p>
    </div>

    <div id="ref-usage">
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">calculate_dmodel</span><span class="op">(</span></span>
<span>  <span class="va">data</span>,</span>
<span>  <span class="va">fit</span>,</span>
<span>  anchors <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  name <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  key <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  transform <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span>`(Intercept)` <span class="op">=</span> <span class="fl">0</span>, original <span class="op">=</span> <span class="fl">1</span><span class="op">)</span>,</span>
<span>  itemtable_from <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  relevance <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="op">-</span><span class="cn">Inf</span>, <span class="cn">Inf</span><span class="op">)</span>,</span>
<span>  population <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  prior_mean <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  background_equate <span class="op">=</span> <span class="cn">FALSE</span></span>
<span><span class="op">)</span></span></code></pre></div>
    </div>

    <div id="arguments">
    <h2>Arguments</h2>


<dl><dt id="arg-data">data<a class="anchor" aria-label="anchor" href="#arg-data"></a></dt>
<dd><p>A matrix or a data frame with item responses. The data can take
two shapes. In the <strong>wide shape</strong> the data is a matrix or data frame
with items in columns and visits in the rows. In the <strong>long shape</strong> the data
is a data frame with item responses in long format, i.e. with
visit identifying variables, a column with item names and a column
with responses. The wide format is simpler to work with, but the long
format allows for more flexibility in the data structure and is more
efficient for large datasets. The responses should be coded as <code>1</code> (pass) or
<code>0</code> (fail). Missing responses are allowed and are coded as <code>NA</code>.</p></dd>


<dt id="arg-fit">fit<a class="anchor" aria-label="anchor" href="#arg-fit"></a></dt>
<dd><p>An object produced by <code><a href="rasch.html">rasch</a></code>.</p></dd>


<dt id="arg-anchors">anchors<a class="anchor" aria-label="anchor" href="#arg-anchors"></a></dt>
<dd><p>A named numeric vector of length 2. The names of the vector
must correspond to two item names in <code>data</code> that will act as anchors
to define the scale units. If specified, the function will update
both <code>tau</code> and <code>transform</code> parameters. The default is <code>anchors = NULL</code>, which
means that the <code>tau</code> is calculated through the <code>transform</code> argument.</p></dd>


<dt id="arg-name">name<a class="anchor" aria-label="anchor" href="#arg-name"></a></dt>
<dd><p>If specified, the string will be appended to
"number of items"_"number of equates".</p></dd>


<dt id="arg-key">key<a class="anchor" aria-label="anchor" href="#arg-key"></a></dt>
<dd><p>A string with a provisional key name. If not specified, the
<code>name</code> is used.</p></dd>


<dt id="arg-transform">transform<a class="anchor" aria-label="anchor" href="#arg-transform"></a></dt>
<dd><p>A vector of length 2 with the intercept and slope of the
linear transformation of item difficulties <code>tau</code> to the D-score scale.
The default c(0, 1) makes all calculations in the logit scale.</p></dd>


<dt id="arg-itemtable-from">itemtable_from<a class="anchor" aria-label="anchor" href="#arg-itemtable-from"></a></dt>
<dd><p>Location of the <code>itemtable</code> for the items.
The default <code>NULL</code> selects <code><a href="https://d-score.github.io/dscore/reference/builtin_itemtable.html" class="external-link">dscore::builtin_itemtable</a></code>.
Setting <code>itemtable_from</code> to <code>""</code> creates simple sequential labels.
Setting <code>itemtable_from</code> to <code><a href="https://rdrr.io/pkg/ddata/man/itemtable.html" class="external-link">ddata::itemtable</a></code> selects the itemtable
object in the <code>ddata</code> package. Note that items not listed in <code>itemtable</code>
will not ” appear in the <code>itembank</code>.</p></dd>


<dt id="arg-relevance">relevance<a class="anchor" aria-label="anchor" href="#arg-relevance"></a></dt>
<dd><p>See <code><a href="https://d-score.github.io/dscore/reference/dscore.html" class="external-link">dscore</a></code>.</p></dd>


<dt id="arg-population">population<a class="anchor" aria-label="anchor" href="#arg-population"></a></dt>
<dd><p>Name of reference to calculate DAZ: See dscore()</p></dd>


<dt id="arg-prior-mean">prior_mean<a class="anchor" aria-label="anchor" href="#arg-prior-mean"></a></dt>
<dd><p>Name of prior mean column: See dscore()</p></dd>


<dt id="arg-background-equate">background_equate<a class="anchor" aria-label="anchor" href="#arg-background-equate"></a></dt>
<dd><p>A named list or a logical. The named list
has the same structure as the <code>equate</code> parameter. The argument specifies a
list of all (active and passive) equate groups. Each element specifies
a vector of item names belonging to the same equate group. Setting
<code>background_equate = TRUE</code> calculates the parameter
from <code><a href="https://d-score.github.io/dscore/reference/builtin_itemtable.html" class="external-link">dscore::builtin_itemtable</a></code>. The function adds new equate groups
and updates existing equate groups by the corresponding
<code>background_equate</code>, or overwrite an existing element along
the <code>equate</code> object for active equates. Setting
<code>background_equate = FALSE</code> (default) does not specify any passive
equates.</p></dd>

</dl></div>
    <div id="value">
    <h2>Value</h2>
    <p>An object of class <code>dmodel</code>. See details for a description
of the list elements.</p>
    </div>

    <div id="ref-examples">
    <h2>Examples</h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span><span class="kw">if</span> <span class="op">(</span><span class="cn">FALSE</span><span class="op">)</span> <span class="op">{</span> <span class="co"># \dontrun{</span></span></span>
<span class="r-in"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="st">"dmetric"</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="st"><a href="https://tidyr.tidyverse.org" class="external-link">"tidyr"</a></span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># test with Dutch items</span></span></span>
<span class="r-in"><span><span class="va">varlist</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/pkg/dmetric/man/prepare_items.html" class="external-link">prepare_items</a></span><span class="op">(</span>study <span class="op">=</span> <span class="st">"Netherlands 1"</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">dmo</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/pkg/dmetric/man/fit_dmodel.html" class="external-link">fit_dmodel</a></span><span class="op">(</span><span class="va">varlist</span>, name <span class="op">=</span> <span class="st">"Dutch"</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="op">}</span> <span class="co"># }</span></span></span>
</code></pre></div>
    </div>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <nav id="toc" data-toggle="toc" class="sticky-top"><h2 data-toc-skip>Contents</h2>
    </nav></div>
</div>


      <footer><div class="copyright">
  <p></p><p>Developed by Stef van Buuren, Iris Eekhout.</p>
</div>

<div class="pkgdown">
  <p></p><p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.3.</p>
</div>

      </footer></div>






  </body></html>

